{% extends 'layout.html' %}

{% block title %}
    Wishlist
{% endblock %}

{% block content %}
<section style="max-width: 900px; margin: 50px auto; padding: 20px; font-family: Arial, sans-serif;">
    
    <h1 style="text-align: center; color: #800020; margin-bottom: 30px;"> Lista de desejos</h1>

    {% if wished %}
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        {% for book in wished %}
        <article class="book" style="border: 1px solid #ddd; border-radius: 12px; padding: 15px; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center;">
            
            <!-- Título -->
            <h2 style="color: #800020; font-size: 1.2rem; margin-bottom: 10px;">
                <a href="{% url 'library:detail' slug=book.slug %}" style="text-decoration: none; color: #800020;">
                    {{ book.title }}
                </a>
            </h2>

            <!-- Data de criação -->
            <p style="color: #555; font-size: 14px; margin-bottom: 10px;">
                Added on: {{ book.creationdate }}
            </p>

            <!-- Botão remover -->
            <form action="{% url 'library:remove_from_wishlist' book_id=book.id %}" method="post">
                {% csrf_token %}
                <button type="submit" style="padding: 8px 12px; background-color: #800020; color: white; border: none; border-radius: 6px; cursor: pointer; transition: background 0.3s;">
                    Remover da minha Wishlist
                </button>
            </form>

            <!-- Banner opcional -->
            {% if book.banner %}
            <img 
                class="banner"
                src="{{ book.banner.url }}"
                alt="{{ book.title }}"
                style="width: 100%; max-height: 200px; object-fit: cover; margin-top: 15px; border-radius: 8px;"
            />
            {% endif %}

            <!-- Detalhes do livro -->
            {% if book.details %}
            <p style="color: #555; font-size: 14px; margin-top: 10px;">{{ book.details }}</p>
            {% endif %}

        </article>
        {% endfor %}
    </div>
    {% else %}
    <p style="text-align: center; color: #555; margin-top: 30px;">Sua wishlist está vazia.</p>
    {% endif %}

</section>
{% endblock content %}
