{% extends 'layout.html' %}
{% load static %} {% block title %}
    Home
{% endblock %}

{% block content %}

<style>
    /* ------------------------------------ */
    /* CSS DO NOVO SLIDER (CARROSSEL) */
    /* ------------------------------------ */
    
    /* O container principal. Esconde as imagens extras */
    .slider-container {
        width: 100%;
        max-width: 900px; /* (Pode ajustar se quiser) */
        margin: 40px auto;
        position: relative; /* Necessário para posicionar as setas */
        overflow: hidden; /* O TRUQUE: esconde o que vaza */
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    /* O "trilho" que segura todas as imagens */
    .slider-wrapper {
        display: flex;
        /* A MÁGICA: A transição suave */
        transition: transform 0.5s ease-in-out;
    }

    /* Cada slide (imagem) */
    .slider-slide {
        min-width: 100%;
        width: 100%;
    }

    .slider-slide img {
        width: 100%;
        height: 400px; /* Altura fixa para o slider */
        object-fit: cover; /* Faz a imagem cobrir o espaço */
        display: block;
    }

    /* As setas */
    .slider-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 10;
        border-radius: 5px;
        transition: background-color 0.3s;
    }
    
    .slider-btn:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }

    .slider-btn-prev {
        left: 10px;
    }

    .slider-btn-next {
        right: 10px;
    }
</style>

<div class="home-divs-red">
        <h2 class="home-h2-red">Busque por título, autor ou tema...</h2>
        <section class="search-bar-section">
            <input type="text" placeholder="Pesquisar" class="search-bar">
        </section>
    </div>

<div class="slider-container">
    <div class="slider-wrapper">
        
        <div class="slider-slide">
            <img src="https://recreio.com.br/wp-content/uploads/legacy/2021/04/23/10-livros-em-oferta-para-aproveitar-na-amazon-1229134.png" alt="Banner 1">
        </div>
        
        <div class="slider-slide">
            <img src="https://aventurasnahistoria.com.br/wp-content/uploads/amazon/mega-oferta-confira-8-obras-de-filosofia-para-adquirir-com-grandes-descontos.jpg" alt="Banner 2">
        </div>
        
        <div class="slider-slide">
            <img src="https://aventurasnahistoria.com.br/wp-content/uploads/2024/10/mega-oferta-amazon-8-boxes-de-livros-para-adquirir-por-ate-66.jpg" alt="Banner 3">
        </div>
        </div>
    
    <button class="slider-btn slider-btn-prev">&#10094;</button>
    <button class="slider-btn slider-btn-next">&#10095;</button>
</div>
<div class="home-divs">
        <h2 class="home-h2" style="color: #800000;">Livros mais vendidos</h2>
        <section class="basic-home-section">
            <section class="card">
                <img src="https://m.media-amazon.com/images/I/81q77Q39nEL._UF1000,1000_QL80_.jpg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Harry Potter</h3>
                    <h4>Avaliação: 5.0</h4> <p class="card-price">R$69,90</p>
                </section>
            </section>
            <section class="card">
                <img src="media/transferir.jpeg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Noites brancas</h3>
                    <h4>Avaliação: 4.9</h4> <p class="card-price">R$109,90</p>
                </section>
            </section>
            <section class="card">
                <img src="media/transferir (1).jpeg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Hora da estrela</h3>
                    <h4>Avaliação: 4.8</h4> <p class="card-price">R$39,90</p>
                </section>
            </section>
            <section class="card">
                <img src="media/transferir (2).jpeg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Mindset</h3>
                    <h4>Avaliação: 5.0</h4> <p class="card-price">R$89,90</p>
                </section>
            </section>
        </section>
    </div>

<div class="home-divs-red">
        <h2 class="home-h2-red">Gênero</h2>
        <section class="basic-home-section">
            <section class="gender-section">
                <a href=""><i><img src="media/Aha-Soft-Desktop-Halloween-Mask.256.png" alt="gender-icon" class="gender-img"></i></a>
            </section>
            <section class="gender-section">
                <a href=""><i><img src="https://icons.iconarchive.com/icons/designbolts/free-valentine-heart/256/Heart-icon.png" alt="gender-icon" class="gender-img"></i></a>
            </section>
            <section class="gender-section">
                <a href=""><i><img src="media/Gartoon-Team-Gartoon-Categories-Gnome-globe.512.png" alt="gender-icon" class="gender-img"></i></a>
            </section>
            <section class="gender-section">
                <a href=""><i><img src="media/Iconarchive-Wild-Camping-Bird-Owl.512.png" alt="gender-icon" class="gender-img"></i></a>
            </section>
        </section>
    </div>
    <div class="home-divs">
        <h2 class="home-h2" style="color: #800000;">Livros que você pode gostar</h2>
        <section class="basic-home-section">
            <section class="card">
                <img src="https://m.media-amazon.com/images/I/81q77Q39nEL._UF1000,1000_QL80_.jpg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Harry Potter</h3>
                    <h4>Avaliação: 5.0</h4> <p class="card-price">R$69,90</p>
                </section>
            </section>
            <section class="card">
                <img src="media/transferir.jpeg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Noites brancas</h3>
                    <h4>Avaliação: 4.9</h4> <p class="card-price">R$109,90</p>
                </section>
            </section>
            <section class="card">
                <img src="media/transferir (1).jpeg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Hora da estrela</h3>
                    <h4>Avaliação: 4.8</h4> <p class="card-price">R$39,90</p>
                </section>
            </section>
            <section class="card">
                <img src="media/transferir (2).jpeg" alt="card-img" class="card-img">
                <section class="card-description">
                    <h3>Mindset</h3>
                    <h4>Avaliação: 5.0</h4> <p class="card-price">R$89,90</p>
                </section>
            </section>
        </section>
    </div>

<script>
    // Encontra os elementos do slider
    const sliderWrapper = document.querySelector('.slider-wrapper');
    const slides = document.querySelectorAll('.slider-slide');
    const prevBtn = document.querySelector('.slider-btn-prev');
    const nextBtn = document.querySelector('.slider-btn-next');

    // Verifica se os elementos existem antes de adicionar eventos
    if (sliderWrapper && prevBtn && nextBtn && slides.length > 0) {
        let currentSlide = 0;
        const slideCount = slides.length;

        // Função para mover o slider
        function goToSlide(slideIndex) {
            if (slideIndex < 0) {
                currentSlide = slideCount - 1; // Volta para o último
            } else if (slideIndex >= slideCount) {
                currentSlide = 0; // Volta para o primeiro
            } else {
                currentSlide = slideIndex;
            }
            sliderWrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
        }

        // Eventos de clique nas setas
        nextBtn.addEventListener('click', () => {
            goToSlide(currentSlide + 1);
        });

        prevBtn.addEventListener('click', () => {
            goToSlide(currentSlide - 1);
        });
    }
</script>

{% endblock %}